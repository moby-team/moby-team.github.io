(() => {
var exports = {};
exports.id = 123;
exports.ids = [123];
exports.modules = {

/***/ 18038:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/react");

/***/ }),

/***/ 98704:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/react-dom/server-rendering-stub");

/***/ }),

/***/ 97897:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/react-server-dom-webpack/client");

/***/ }),

/***/ 56786:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/react/jsx-runtime");

/***/ }),

/***/ 41844:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/get-segment-param");

/***/ }),

/***/ 96624:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/future/helpers/interception-routes");

/***/ }),

/***/ 57085:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/app-router-context");

/***/ }),

/***/ 20199:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/hash");

/***/ }),

/***/ 39569:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/hooks-client-context");

/***/ }),

/***/ 30893:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/add-path-prefix");

/***/ }),

/***/ 17887:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/handle-smooth-scroll");

/***/ }),

/***/ 98735:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/is-bot");

/***/ }),

/***/ 68231:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/parse-path");

/***/ }),

/***/ 53750:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/remove-trailing-slash");

/***/ }),

/***/ 79618:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/server-inserted-html");

/***/ }),

/***/ 29063:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GlobalError: () => (/* reexport default from dynamic */ next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_0___default.a),
/* harmony export */   __next_app__: () => (/* binding */ __next_app__),
/* harmony export */   originalPathname: () => (/* binding */ originalPathname),
/* harmony export */   pages: () => (/* binding */ pages),
/* harmony export */   tree: () => (/* binding */ tree)
/* harmony export */ });
/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1865);
/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(26327);
/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_1__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_1__) if(["default","tree","pages","GlobalError","originalPathname","__next_app__"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_1__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

    const tree = {
        children: [
        '',
        {
        children: [
        'script',
        {
        children: [
        'upload',
        {
        children: [
        'choose-file',
        {
        children: ['__PAGE__', {}, {
          page: [() => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 24581)), "/Users/jinhoobong/Desktop/Moby/moby.team.github.io/app/script/upload/choose-file/page.tsx"],
          
        }]
      },
        {
          
          
        }
      ]
      },
        {
          
          
        }
      ]
      },
        {
          'layout': [() => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 48803)), "/Users/jinhoobong/Desktop/Moby/moby.team.github.io/app/script/layout.tsx"],
          
        }
      ]
      },
        {
          'layout': [() => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 67263)), "/Users/jinhoobong/Desktop/Moby/moby.team.github.io/app/layout.tsx"],
          
        }
      ]
      }.children;
    const pages = ["/Users/jinhoobong/Desktop/Moby/moby.team.github.io/app/script/upload/choose-file/page.tsx"];
    
    const originalPathname = "/script/upload/choose-file/page"
    const __next_app__ = {
      require: __webpack_require__,
      // all modules are in the entry chunk, so we never actually need to load chunks in webpack
      loadChunk: () => Promise.resolve()
    }

    
  

/***/ }),

/***/ 66674:
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 56552))

/***/ }),

/***/ 29347:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Z: () => (/* binding */ WelcomeUser)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(56786);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _fonts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(42938);
/* harmony import */ var _fonts__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_fonts__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _fonts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(32201);
/* harmony import */ var _fonts__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_fonts__WEBPACK_IMPORTED_MODULE_2__);
/* __next_internal_client_entry_do_not_use__ default auto */ 

function WelcomeUser() {
    return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
        style: {
            marginTop: "5%"
        },
        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", {
            className: (_fonts__WEBPACK_IMPORTED_MODULE_1___default().className),
            style: {
                fontSize: "24pt",
                color: "white"
            },
            children: [
                "Welcome, ",
                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("b", {
                    className: (_fonts__WEBPACK_IMPORTED_MODULE_2___default().className),
                    style: {
                        fontSize: "24pt",
                        color: "white"
                    },
                    children: " User "
                }),
                " \uD83D\uDC4B"
            ]
        })
    });
}


/***/ }),

/***/ 56552:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": () => (/* binding */ ChooseFile)
});

// EXTERNAL MODULE: external "next/dist/compiled/react/jsx-runtime"
var jsx_runtime_ = __webpack_require__(56786);
// EXTERNAL MODULE: external "next/dist/compiled/react"
var react_ = __webpack_require__(18038);
// EXTERNAL MODULE: ./node_modules/react-bootstrap/cjs/Card.js
var Card = __webpack_require__(40049);
var Card_default = /*#__PURE__*/__webpack_require__.n(Card);
// EXTERNAL MODULE: ./node_modules/react-bootstrap/cjs/ProgressBar.js
var ProgressBar = __webpack_require__(22580);
var ProgressBar_default = /*#__PURE__*/__webpack_require__.n(ProgressBar);
// EXTERNAL MODULE: ./node_modules/react-bootstrap/cjs/Button.js
var Button = __webpack_require__(86110);
var Button_default = /*#__PURE__*/__webpack_require__.n(Button);
// EXTERNAL MODULE: ./node_modules/next/navigation.js
var navigation = __webpack_require__(59483);
// EXTERNAL MODULE: ./node_modules/next/font/google/target.css?{"path":"app/fonts.ts","import":"Lato","arguments":[{"subsets":["latin"],"weight":"400","display":"swap"}],"variableName":"lato"}
var fonts_ts_import_Lato_arguments_subsets_latin_weight_400_display_swap_variableName_lato_ = __webpack_require__(42938);
var fonts_ts_import_Lato_arguments_subsets_latin_weight_400_display_swap_variableName_lato_default = /*#__PURE__*/__webpack_require__.n(fonts_ts_import_Lato_arguments_subsets_latin_weight_400_display_swap_variableName_lato_);
// EXTERNAL MODULE: ./node_modules/next/font/google/target.css?{"path":"app/fonts.ts","import":"Lato","arguments":[{"subsets":["latin"],"weight":"700","display":"swap"}],"variableName":"latoBold"}
var fonts_ts_import_Lato_arguments_subsets_latin_weight_700_display_swap_variableName_latoBold_ = __webpack_require__(32201);
var fonts_ts_import_Lato_arguments_subsets_latin_weight_700_display_swap_variableName_latoBold_default = /*#__PURE__*/__webpack_require__.n(fonts_ts_import_Lato_arguments_subsets_latin_weight_700_display_swap_variableName_latoBold_);
;// CONCATENATED MODULE: ./app/components-dark-mode/FileUploader.tsx
/* __next_internal_client_entry_do_not_use__ default auto */ 

// import { Dialog, Transition } from '@headlessui/react'
// import { ExclamationTriangleIcon } from '@heroicons/react/24/outline'
// import Card from 'react-bootstrap/Card';
// import ProgressBar from 'react-bootstrap/ProgressBar';
// import Button from 'react-bootstrap/Button';





function FileUploader({ setTheScript, setScriptTitle, isParseLoading, setParseLoad, isParseError, setParseError, isGPTLoading, setGPTLoad, isGPTError, setGPTError, isTTSLoading, setTTSLoad, isTTSError, setTTSError }) {
    // const cancelButtonRef = useRef(null)
    const [file, setFile] = (0,react_.useState)(null);
    const [fileName, setFileName] = (0,react_.useState)("");
    const [dialogueScript, setDialogueScript] = (0,react_.useState)([]);
    const [uploadLoading, setUploadLoading] = (0,react_.useState)(false);
    const [loadingPercentage, setLoadingPercentage] = (0,react_.useState)(0);
    const [boxBorder, setBoxBorder] = (0,react_.useState)("2px dotted #B8E2F0");
    // this acts as like grabbing the inputelement and clicking it 
    const inputRef = (0,react_.useRef)(null);
    // we act as if we're clicking it 
    const handleUploadClick = ()=>{
        inputRef.current?.click();
    };
    const router = (0,navigation.useRouter)();
    // useEffect(() => {
    //     if (loadingPercentage === 100) {
    //         router.push('/view')
    //     }
    // }, [loadingPercentage]);
    // this function handles the actual saving of the file to our local file
    // we will need to refactor eventually to save the files to a google storage?
    // TODO: check to see if we even need to save the files??
    const handleDisplayFileDetails = async ()=>{
        console.log(inputRef.current?.files[0]?.name);
        setScriptTitle(inputRef.current?.files[0]?.name);
        // we check to see that a file is chosen & we set the fileName state to the value 
        inputRef.current?.files && await setFileName(inputRef.current?.files[0]?.name);
        // we set the file here 
        await setFile(inputRef.current?.files[0]);
        setLoadingPercentage(25);
        const targetFile = inputRef.current?.files[0];
        const formData = new FormData();
        formData.append("file", targetFile);
        const fileToParse = inputRef.current?.files[0]?.name;
        try {
            const res = await fetch("/api/upload", {
                method: "POST",
                body: formData
            });
            const data = await res.json();
            // if file has been successfully uploaded, we now want to pass it into parseFN
            // else we want to throw an error here 
            data.status === 200 ? parseDocument(fileToParse) : null;
        } catch (error) {
            console.log("error", error);
            console.error("something went wrong, check your console there.");
            router.push("/script/error");
        }
    };
    const parseDocument = async (inputFile)=>{
        const formData = new FormData();
        formData.append("fileName", inputFile);
        const targetFileName = formData.get("fileName");
        console.log("targetFile", targetFileName);
        if (targetFileName.includes("White-Room")) {
            console.log("white");
        }
        if (targetFileName.includes("Risk-Management")) {
            console.log("risk");
        }
        setUploadLoading(true);
        setBoxBorder("none");
        setParseLoad(true);
        try {
            const res = await fetch("/api/docAI_parse", {
                method: "POST",
                body: JSON.stringify(targetFileName),
                headers: {
                    "Content-Type": "application/json"
                }
            });
            const res_data = await res.json();
            const arrayOfEntities = res_data.scriptObjects;
            setLoadingPercentage(50);
            console.log("returned from workbench", arrayOfEntities);
            promptChatGPT(arrayOfEntities);
        } catch (error) {
            setParseError(true);
            console.log("error", error);
            console.error("something went wrong, check your console.");
            router.push("/script/error");
        }
    };
    const convertTextToSpeech = async (input)=>{
        const sizeOfFile = new Blob([
            input
        ]).size;
        setLoadingPercentage(100); //moved here so we can navigate to /view once script is fully loaded
        setGPTLoad(false);
        setTTSLoad(true);
        if (sizeOfFile < 4000) {
            try {
                const res = await fetch("/api/gc_TTS", {
                    method: "POST",
                    body: JSON.stringify(input),
                    headers: {
                        "Content-Type": "audio/mp3"
                    }
                });
                const res_data = await res.json();
                const arrayBuffer = Buffer.from(res_data.buffer);
                setTTSLoad(false);
                // instead of passing the audio buffer directly into our play function, we'd now send it back 
                return arrayBuffer;
            } catch (error) {
                console.log("TTS error", error);
                console.error("something went wrong with text to speech, check your console");
                router.push("/script/error");
            }
        } else {
            setTTSError(true);
            console.error("The file is too big");
        // STRETCH GOAL: IF FILE IS BIGGER, WE NEED TO USE GOOGLE'S LONG AUDIO FORM API (still in preview mode)
        // try {
        //     const res = await fetch("/api/gc_TTS_LA", {
        //         method: "POST",
        //         body: JSON.stringify(script),
        //         headers: {"Content-Type": "audio/mp3"}
        //     });
        //     const res_data = await res.json();
        //     console.log('before', res_data.buffer);
        //     const arrayBuffer = Buffer.from(res_data.buffer);
        //     console.log('after', arrayBuffer);
        //     playAudioScript(arrayBuffer);
        // } catch (error) {
        //     console.log("TTS Long Audio error", error);
        //     console.error("Something went wrong with the text to speech for long audio, check your console");
        // }
        }
    };
    // function to call the chatgpt function
    // INPUT: an array of objects with format: [ { type: CHARACTER_BLOCK / SCENE_SCTION, text: string, position: { x: number, y: number } } ] 
    // OUTPUT: nothing is returned, but it creates an array of objects: [ { name: string, line: string, audioBuffer: Buffer }]
    const promptChatGPT = async (scriptBlocks)=>{
        setGPTLoad(true);
        setParseLoad(false);
        setLoadingPercentage(75);
        try {
            // const res = await fetch("/api/openAI_GPT", {
            //     method: "POST",
            //     body: JSON.stringify(scriptBlocks),
            //     headers: {"Content-Type": "application/json"}
            // });
            // const res_data: { dialogueScript: DialogueObject[] } = await res.json();
            // const arrayOfLines = res_data.dialogueScript;
            // console.log('returned from chatGPT', arrayOfLines);
            // if (arrayOfLines) {
            //     arrayOfLines.forEach(async (dialogueLine) => {
            //         // we grab dialogueLine.line pass it into tts
            //         // grab the returned audiobuffer and add to objects property
            //         if (dialogueLine.type !== "SCENE_ACTION") {
            //             // we want to avoid TTS reading parenthesis stuff
            //             const lineWithoutParenthesis = dialogueLine.line && dialogueLine.line.replace(/ *\([^)]*\) */g, "");
            //             const convertedAudioBuffer = await convertTextToSpeech(lineWithoutParenthesis);
            //             // at this point each object now has an audiobuffer type appended to the object. 
            //             dialogueLine.audioBuffer = convertedAudioBuffer;
            //         }
            //     });
            // }
            console.log("returned from chat", scriptBlocks);
            if (scriptBlocks) {
                scriptBlocks.forEach(async (dialogueLine)=>{
                    if (dialogueLine.type !== "SCENE_ACTION") {
                        const lineWithoutParenthesis = dialogueLine.line && dialogueLine.line.replace(/ *\([^)]*\) */g, "");
                        const convertedAudioBuffer = await convertTextToSpeech(lineWithoutParenthesis);
                        dialogueLine.audioBuffer = convertedAudioBuffer;
                    }
                });
            }
            // await setDialogueScript(arrayOfLines);
            // await setTheScript(arrayOfLines);
            await setDialogueScript(scriptBlocks);
            await setTheScript(scriptBlocks);
        } catch (error) {
            setGPTError(true);
            console.log("GPT error", error);
            console.error("something went wrong with chat gpt, check your console");
            router.push("/script/error");
        }
    };
    return(// /* implement drag and drop later */
    /*#__PURE__*/ jsx_runtime_.jsx(jsx_runtime_.Fragment, {
        children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)((Card_default()), {
            className: "text-center .shadow-5",
            style: {
                width: "446px",
                height: "231px",
                border: `${boxBorder}`,
                backgroundColor: "#3E3E43",
                marginTop: "32px"
            },
            children: [
                /*#__PURE__*/ jsx_runtime_.jsx((Card_default()).Header, {
                    className: "d-flex justify-content-end",
                    style: {
                        background: "none",
                        border: "none",
                        padding: "0 10px 0 0"
                    },
                    children: /*#__PURE__*/ jsx_runtime_.jsx((Button_default()), {
                        variant: "none",
                        className: "",
                        href: "/",
                        children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)("svg", {
                            width: "21",
                            height: "20",
                            viewBox: "0 0 21 20",
                            fill: "none",
                            xmlns: "http://www.w3.org/2000/svg",
                            children: [
                                /*#__PURE__*/ (0,jsx_runtime_.jsxs)("g", {
                                    clipPath: "url(#clip0_705_1930)",
                                    children: [
                                        /*#__PURE__*/ jsx_runtime_.jsx("path", {
                                            d: "M20 4L4 20",
                                            stroke: "white",
                                            strokeWidth: "1.5"
                                        }),
                                        /*#__PURE__*/ jsx_runtime_.jsx("path", {
                                            d: "M4 4L20 20",
                                            stroke: "white",
                                            strokeWidth: "1.5"
                                        })
                                    ]
                                }),
                                /*#__PURE__*/ jsx_runtime_.jsx("defs", {
                                    children: /*#__PURE__*/ jsx_runtime_.jsx("clipPath", {
                                        id: "clip0_705_1930",
                                        children: /*#__PURE__*/ jsx_runtime_.jsx("rect", {
                                            width: "21",
                                            height: "20",
                                            fill: "white"
                                        })
                                    })
                                })
                            ]
                        })
                    })
                }),
                !uploadLoading ? /*#__PURE__*/ jsx_runtime_.jsx((Card_default()).Body, {
                    children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                        className: "mx-auto",
                        style: {
                            margin: "0",
                            width: "100%",
                            display: "flex",
                            justifyContent: "center",
                            alignItems: "center",
                            flexDirection: "column"
                        },
                        children: [
                            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                                style: {
                                    marginBottom: "33px"
                                },
                                children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)("p", {
                                    className: (fonts_ts_import_Lato_arguments_subsets_latin_weight_400_display_swap_variableName_lato_default()).className,
                                    style: {
                                        fontSize: "16px",
                                        color: "#fff"
                                    },
                                    children: [
                                        "Drag and Drop or ",
                                        /*#__PURE__*/ jsx_runtime_.jsx("span", {
                                            className: (fonts_ts_import_Lato_arguments_subsets_latin_weight_700_display_swap_variableName_latoBold_default()).className,
                                            style: {
                                                fontSize: "16px"
                                            },
                                            children: "Choose a PDF"
                                        }),
                                        " to Upload"
                                    ]
                                })
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx("input", {
                                ref: inputRef,
                                onChange: handleDisplayFileDetails,
                                className: "d-none",
                                type: "file",
                                hidden: true
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx("button", {
                                onClick: handleUploadClick,
                                // className={`btn btn-outline-${
                                //     fileName ? "success" : "none"
                                // }`}
                                style: {
                                    padding: "0",
                                    fontSize: "16px"
                                },
                                children: fileName ? fileName : /*#__PURE__*/ (0,jsx_runtime_.jsxs)("svg", {
                                    width: "60",
                                    height: "60",
                                    viewBox: "0 0 60 60",
                                    fill: "none",
                                    xmlns: "http://www.w3.org/2000/svg",
                                    children: [
                                        /*#__PURE__*/ jsx_runtime_.jsx("path", {
                                            d: "M23.75 55H7C5.89543 55 5 54.1046 5 53V7C5 5.89543 5.89543 5 7 5H25.472C25.9724 5 26.4546 5.18757 26.8235 5.52569L40.6014 18.1555C41.0147 18.5343 41.25 19.0692 41.25 19.6298V21.25",
                                            stroke: "white",
                                            strokeWidth: "2",
                                            strokeLinejoin: "round"
                                        }),
                                        /*#__PURE__*/ jsx_runtime_.jsx("path", {
                                            d: "M26.25 6.25V16.75C26.25 17.8546 27.1454 18.75 28.25 18.75H40",
                                            stroke: "white",
                                            strokeWidth: "2",
                                            strokeLinejoin: "round"
                                        }),
                                        /*#__PURE__*/ jsx_runtime_.jsx("circle", {
                                            cx: "41.25",
                                            cy: "41.25",
                                            r: "13.75",
                                            stroke: "white",
                                            strokeWidth: "2",
                                            strokeLinejoin: "round"
                                        }),
                                        /*#__PURE__*/ jsx_runtime_.jsx("path", {
                                            d: "M41.25 35V47.5",
                                            stroke: "white",
                                            strokeWidth: "2",
                                            strokeLinejoin: "round"
                                        }),
                                        /*#__PURE__*/ jsx_runtime_.jsx("path", {
                                            d: "M35 41.25H47.5",
                                            stroke: "white",
                                            strokeWidth: "2",
                                            strokeLinejoin: "round"
                                        })
                                    ]
                                })
                            })
                        ]
                    })
                }) : /*#__PURE__*/ (0,jsx_runtime_.jsxs)((Card_default()).Body, {
                    children: [
                        /*#__PURE__*/ jsx_runtime_.jsx((ProgressBar_default()), {
                            now: loadingPercentage,
                            style: {
                                width: "308px",
                                height: "28px",
                                margin: "auto",
                                backgroundColor: "#1F2123",
                                borderRadius: "50px",
                                border: "1px solid #3E3C3C",
                                borderStyle: "double",
                                color: "#EC995C"
                            }
                        }),
                        /*#__PURE__*/ jsx_runtime_.jsx("p", {
                            style: {
                                fontSize: "16px",
                                color: "#fff",
                                marginTop: "32px"
                            },
                            children: "Moby is preparing your script."
                        })
                    ]
                })
            ]
        })
    }));
}

// EXTERNAL MODULE: ./app/components-dark-mode/WelcomeUser.tsx
var WelcomeUser = __webpack_require__(29347);
// EXTERNAL MODULE: ./node_modules/react-bootstrap-icons/build/index.js
var build = __webpack_require__(35644);
// EXTERNAL MODULE: ./node_modules/react-bootstrap/cjs/Form.js
var Form = __webpack_require__(94257);
var Form_default = /*#__PURE__*/__webpack_require__.n(Form);
// EXTERNAL MODULE: ./node_modules/react-bootstrap/cjs/Modal.js
var Modal = __webpack_require__(31772);
var Modal_default = /*#__PURE__*/__webpack_require__.n(Modal);
// EXTERNAL MODULE: ./node_modules/next/font/google/target.css?{"path":"app/fonts.ts","import":"Poppins","arguments":[{"subsets":["latin"],"weight":"400","display":"swap"}],"variableName":"poppins"}
var fonts_ts_import_Poppins_arguments_subsets_latin_weight_400_display_swap_variableName_poppins_ = __webpack_require__(45205);
var fonts_ts_import_Poppins_arguments_subsets_latin_weight_400_display_swap_variableName_poppins_default = /*#__PURE__*/__webpack_require__.n(fonts_ts_import_Poppins_arguments_subsets_latin_weight_400_display_swap_variableName_poppins_);
;// CONCATENATED MODULE: ./app/components-dark-mode/CharacterNames.tsx
// input: string name
// output: an option element with the value of the string name




const CharacterNames = ({ listOfNames, chooseCharacter })=>{
    // generate a set of unique names from the returned list 
    // we want to remove any parenthesis here and gra the unique names
    // make sure we remove parenthesis here before creating unique names
    listOfNames.forEach((obj)=>{
        if (obj.name) {
            obj.name = obj.name.replace(/ *\([^)]*\) */g, "");
        }
    });
    const uniqueNames = [
        ...new Set(listOfNames.map((lineObj)=>lineObj.name))
    ];
    const [nameChosen, setNameChosen] = (0,react_.useState)("");
    const handleNameSelection = (e)=>{
        chooseCharacter(e.target.value);
        setNameChosen(e.target.value);
    };
    return /*#__PURE__*/ jsx_runtime_.jsx(jsx_runtime_.Fragment, {
        children: /*#__PURE__*/ jsx_runtime_.jsx((Form_default()).Select, {
            value: nameChosen,
            onChange: (e)=>handleNameSelection(e),
            style: {
                color: "white",
                backgroundColor: "#1F2123",
                width: "100%",
                textAlign: "center",
                padding: "10px",
                borderRadius: "5px"
            },
            children: uniqueNames.map((name, id)=>{
                if (name) {
                    return /*#__PURE__*/ jsx_runtime_.jsx("option", {
                        value: name,
                        className: (fonts_ts_import_Poppins_arguments_subsets_latin_weight_400_display_swap_variableName_poppins_default()).className,
                        style: {
                            color: "white"
                        },
                        children: name
                    }, id);
                }
            })
        })
    });
};
/* harmony default export */ const components_dark_mode_CharacterNames = (CharacterNames);

;// CONCATENATED MODULE: ./app/components-dark-mode/UserInputModal.tsx
/* __next_internal_client_entry_do_not_use__ default auto */ 







// we want to surface this once the script has been loaded but character not yet chosen
const UserInputModal = ({ scriptTitle, scriptDialogue, chooseCharacter, showScript })=>{
    const [show, setShow] = (0,react_.useState)(false);
    (0,react_.useEffect)(()=>{
        if (scriptDialogue && scriptDialogue.length > 0) {
            setShow(true);
        }
    }, [
        show
    ]);
    const handleClose = ()=>{
        setShow(false);
        showScript(true);
    };
    //   return (
    //     <Modal show={show} onHide={handleClose} size="lg" centered backdrop="static">
    //       <Modal.Header closeButton>
    //         <Button variant="none" size="lg" onClick={handleClose}>
    //           <ArrowLeftCircle />
    //         </Button>
    //       </Modal.Header>
    //       <Modal.Body 
    //         style={{
    //           display: "flex",
    //           justifyContent: "center",
    //           alignItems: "center",
    //       }}>
    //         <Form>
    //           <Form.Group className="mb-3" controlId="exampleForm.ControlInput1">
    //             <Form.Control
    //               size="lg"
    //               type="scriptTitle"
    //               placeholder="need to pass down the script title and put here" // grab the title from the script and put here
    //               autoFocus
    //             />
    //           </Form.Group>
    //           <p 
    //             className="pb-5"
    //             style={{
    //               display: "flex",
    //               justifyContent: "center",
    //           }}>
    //             script authors?
    //           </p>
    //           <Form.Group className=" pt-5 pb-3" controlId="exampleForm.ControlTextarea1">
    //             <Form.Label style={{
    //               display: "flex",
    //               justifyContent: "center",
    //               alignItems: "center",
    //               }}>
    //                 Who are you reading as?
    //             </Form.Label>
    //             <DropdownButton 
    //               id="dropdown-basic-button" 
    //               variant="light"
    //               title="Choose a character"
    //               style={{
    //                 display: "flex",
    //                 justifyContent: "center",
    //                 alignItems: "center",
    //               }}>
    //               {/* <CharacterNames listOfNames={names} /> */}
    //               <Dropdown.Item href="#/action-1">Action</Dropdown.Item>
    //               <Dropdown.Item href="#/action-2">Another action</Dropdown.Item>
    //               <Dropdown.Item href="#/action-3">Something else</Dropdown.Item>
    //             </DropdownButton>
    //           </Form.Group>
    //         </Form>
    //       </Modal.Body>
    //       <Modal.Footer 
    //         style={{
    //           display: "flex",
    //           justifyContent: "center",
    //           alignItems: "center",
    //       }}>
    //         <Button variant="primary" size="lg" onClick={handleClose}>Start</Button>
    //       </Modal.Footer>
    //     </Modal>
    //   )
    return /*#__PURE__*/ jsx_runtime_.jsx(jsx_runtime_.Fragment, {
        children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)((Modal_default()), {
            show: show,
            size: "lg",
            onHide: handleClose,
            backdrop: "static",
            keyboard: false,
            centered: true,
            children: [
                /*#__PURE__*/ jsx_runtime_.jsx((Modal_default()).Header, {
                    closeButton: true,
                    style: {
                        borderBottom: "none",
                        backgroundColor: "#3E3E43"
                    },
                    children: /*#__PURE__*/ jsx_runtime_.jsx((Button_default()), {
                        variant: "none",
                        size: "lg",
                        onClick: handleClose,
                        children: /*#__PURE__*/ jsx_runtime_.jsx(build/* ArrowLeft */.XdH, {
                            style: {
                                color: "#fff"
                            }
                        })
                    })
                }),
                /*#__PURE__*/ jsx_runtime_.jsx((Modal_default()).Body, {
                    style: {
                        backgroundColor: "#3E3E43",
                        display: "flex",
                        justifyContent: "center",
                        alignItems: "center",
                        paddingBottom: "0"
                    },
                    children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)((Form_default()), {
                        children: [
                            /*#__PURE__*/ jsx_runtime_.jsx((Form_default()).Group, {
                                className: "mb-3",
                                controlId: "exampleForm.ControlInput1",
                                children: /*#__PURE__*/ jsx_runtime_.jsx((Form_default()).Control, {
                                    size: "lg",
                                    type: "scriptTitle",
                                    value: scriptTitle.substring(0, scriptTitle.lastIndexOf(".")),
                                    autoFocus: true,
                                    style: {
                                        textAlign: "center",
                                        color: "#fff",
                                        backgroundColor: "#1F2123",
                                        border: "none",
                                        fontSize: "24px"
                                    },
                                    readOnly: true
                                })
                            }),
                            /*#__PURE__*/ (0,jsx_runtime_.jsxs)((Form_default()).Group, {
                                className: " pt-5 pb-3",
                                controlId: "exampleForm.ControlTextarea1",
                                style: {
                                    display: "flex",
                                    justifyContent: "center",
                                    alignItems: "center",
                                    flexDirection: "column"
                                },
                                children: [
                                    /*#__PURE__*/ jsx_runtime_.jsx((Form_default()).Label, {
                                        style: {
                                            display: "flex",
                                            justifyContent: "center",
                                            alignItems: "center",
                                            color: "white"
                                        },
                                        children: /*#__PURE__*/ jsx_runtime_.jsx("span", {
                                            className: (fonts_ts_import_Lato_arguments_subsets_latin_weight_400_display_swap_variableName_lato_default()).className,
                                            style: {
                                                fontSize: "16px"
                                            },
                                            children: "Who are you reading as?"
                                        })
                                    }),
                                    /*#__PURE__*/ jsx_runtime_.jsx("div", {
                                        style: {
                                            border: "none",
                                            display: "flex",
                                            justifyContent: "center",
                                            width: "100%"
                                        },
                                        children: /*#__PURE__*/ jsx_runtime_.jsx(components_dark_mode_CharacterNames, {
                                            listOfNames: scriptDialogue,
                                            chooseCharacter: chooseCharacter
                                        })
                                    })
                                ]
                            })
                        ]
                    })
                }),
                /*#__PURE__*/ jsx_runtime_.jsx((Modal_default()).Footer, {
                    style: {
                        borderTop: "none",
                        backgroundColor: "#3E3E43",
                        display: "flex",
                        justifyContent: "center",
                        alignItems: "center",
                        paddingTop: "0"
                    },
                    children: /*#__PURE__*/ jsx_runtime_.jsx((Button_default()), {
                        size: "lg",
                        onClick: ()=>handleClose(),
                        style: {
                            width: "87px",
                            height: "50px",
                            borderRadius: "5px",
                            fontSize: "18px",
                            backgroundColor: "#EC5500",
                            border: "none"
                        },
                        children: /*#__PURE__*/ jsx_runtime_.jsx("span", {
                            className: (fonts_ts_import_Lato_arguments_subsets_latin_weight_400_display_swap_variableName_lato_default()).className,
                            children: "Start"
                        })
                    })
                })
            ]
        })
    });
};
/* harmony default export */ const components_dark_mode_UserInputModal = (UserInputModal);

;// CONCATENATED MODULE: ./app/components/sstv2.tsx


const fuzzball = __webpack_require__(53725);
const SpeechToTextV2 = ({ scriptToRead, chosenCharacter, clickedStart })=>{
    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
    let recognition = new SpeechRecognition();
    console.log("script", scriptToRead);
    console.log("character that the user has identified", chosenCharacter);
    let dialogueOnlyScript = scriptToRead.filter((obj)=>{
        return obj.type !== "SCENE_ACTION";
    });
    // there has to be some form of tracking 
    let currentIndex = 0;
    // let currInnerHtml = '';
    let userTurn = false;
    let mobyTurn = false;
    (0,react_.useEffect)(()=>{
        clickedStart ? startDialogue() : null;
    }, [
        clickedStart
    ]);
    // const userTurnLineFormat = (currLineInnerHtml, start) => {
    const userTurnLineFormat = (start)=>{
        const lineId = `dialogue${currentIndex}`;
        // console.log(lineId, '+', currInnerHtml);
        console.log(lineId);
        // let newInnerHtml = '';
        if (start) {
            console.log("in user start turn");
            userTurn = true;
            // currInnerHtml = currLineInnerHtml; // to keep track of what it was previously
            // newInnerHtml = currInnerHtml.replace(currInnerHtml, '<span style="background-color:yellow;">' + currInnerHtml + '</span>');
            // document.getElementById(lineId).innerHTML = newInnerHtml;
            document.getElementById(lineId).style.backgroundColor = "rgba(255,255,0,0.7)";
        } else {
            console.log("in user end turn");
            userTurn = false;
            document.getElementById(lineId).style.backgroundColor = "transparent";
        // newInnerHtml = currInnerHtml;
        // document.getElementById(lineId).innerHTML = newInnerHtml;
        }
        return;
    };
    // const mobyTurnLineFormat = (currLineInnerHtml, start) => {
    const mobyTurnLineFormat = (start)=>{
        // let newInnerHtml = document.getElementById(lineId).innerHTML;
        const lineId = `dialogue${currentIndex}`;
        // console.log(lineId, '+', currInnerHtml);
        console.log(lineId);
        // let newInnerHtml = '';
        if (start) {
            console.log("in moby start turn");
            mobyTurn = true;
            // currInnerHtml = currLineInnerHtml; // to keep track of what it was previously
            // newInnerHtml = currInnerHtml.replace(currInnerHtml, '<span style="background-color:rgba(236, 85, 0, 0.3)">' + currInnerHtml + '</span>');
            // document.getElementById(lineId).innerHTML = newInnerHtml;
            document.getElementById(lineId).style.backgroundColor = "rgba(214, 86, 0, 0.6)";
        } else {
            console.log("in moby end turn");
            mobyTurn = false;
            // newInnerHtml = currInnerHtml;
            // document.getElementById(lineId).innerHTML = newInnerHtml;
            document.getElementById(lineId).style.backgroundColor = "transparent";
        }
        return;
    };
    // there should be a function called start dialogue that 
    const startDialogue = ()=>{
        if (currentIndex >= dialogueOnlyScript.length) {
            console.log("mobyTurn", mobyTurn);
            console.log("userTurn", userTurn);
            // const lastScriptLine = document.getElementById(`dialogue${currentIndex - 1}`).innerHTML;
            if (mobyTurn) {
                // mobyTurnLineFormat(lastScriptLine, false);
                mobyTurnLineFormat(false);
            } else if (userTurn) {
                // userTurnLineFormat(lastScriptLine, false)
                userTurnLineFormat(false);
            }
            console.log("DONE");
            const endRecognition = new SpeechRecognition();
            endRecognition.start();
            endRecognition.stop();
            return;
        }
        const currentLineObj = dialogueOnlyScript[currentIndex];
        const objName = currentLineObj.name.valueOf();
        if (objName == chosenCharacter) {
            const newRecognition = new SpeechRecognition();
            console.log("enters user block");
            // const currScriptLine = document.getElementById(`dialogue${currentIndex}`).innerHTML;
            // userTurnLineFormat(currScriptLine, true);
            userTurnLineFormat(true);
            newRecognition.onresult = (e)=>{
                const transcript = e.results[0][0].transcript.toLowerCase().replace(/\s/g, "");
                console.log("transcribed: ", transcript);
                checkSpeechAgainstTranscript(transcript);
            };
            newRecognition.continuous = true;
            newRecognition.start();
            console.log("listening...");
        } else {
            console.log("enters reader block");
            const copyArrayBuffer = currentLineObj.audioBuffer && currentLineObj.audioBuffer.slice(0);
            // playAudioScript(currentLineObj.audioBuffer);
            playAudioScript(copyArrayBuffer);
        }
    };
    // once user identifies start we go 
    if (scriptToRead.length > 0) {
        recognition.onresult = (e)=>{
            const transcript = e.results[e.results.length - 1][0].transcript.toLowerCase().replace(/\s/g, "");
            console.log("start command?: ", transcript);
            if (transcript === "start") {
                startDialogue();
            }
        };
        recognition.continuous = true;
        recognition.start();
        console.log("ready to begin");
    }
    const checkSpeechAgainstTranscript = (transcribedString)=>{
        // const currUserLine = document.getElementById(`dialogue${currentIndex}`).innerHTML;
        console.log("entered speech fn");
        let bestMatch = null;
        let bestScore = -1;
        // compare the two strings without anything in parentheses
        const score = fuzzball.ratio(transcribedString, dialogueOnlyScript[currentIndex].line.replace(/ *\([^)]*\) */g, ""));
        if (score > bestScore) {
            bestScore = score;
            bestMatch = dialogueOnlyScript[currentIndex].line;
        }
        // TODO: keep in mind the call stack
        // in order for the call stack everything needs to return
        if (bestScore > 70) {
            // userTurnLineFormat(currUserLine, false)
            userTurnLineFormat(false);
            currentIndex++;
            startDialogue();
        } else {
            // without incrementing the index, the script stays at the same place
            // so we just listen again
            startDialogue();
        }
        return;
    };
    const playAudioScript = async (arrayBuffer)=>{
        console.log("entered audio fn");
        // const currMobyLine = document.getElementById(`dialogue${currentIndex}`).innerHTML;
        // mobyTurnLineFormat(currMobyLine, true);
        mobyTurnLineFormat(true);
        // const copyArrayBuffer = arrayBuffer.slice(0);
        // console.log('copy', copyArrayBuffer);
        let audioContext = new AudioContext();
        let outputSource;
        try {
            if (await arrayBuffer.byteLength > 0) {
                audioContext.decodeAudioData(arrayBuffer.buffer, (buffer)=>{
                    audioContext.resume();
                    outputSource = audioContext.createBufferSource();
                    outputSource.connect(audioContext.destination);
                    outputSource.buffer = buffer;
                    outputSource.start(0);
                    outputSource.addEventListener("ended", ()=>{
                        console.log("moby turn over");
                        // is this the right place to unhighlight
                        // mobyTurnLineFormat(currMobyLine, false);
                        mobyTurnLineFormat(false);
                        currentIndex++;
                        startDialogue();
                    });
                }, (err)=>{
                    console.log("Error parsing through arrayBuffer", err.message);
                });
            } else {
                // mobyTurnLineFormat(currMobyLine, false);
                // mobyTurnLineFormat(false);
                console.error("did not find any arguments");
            }
        } catch (e) {
            console.log(e);
        }
        // try {
        //     if (copyArrayBuffer.byteLength > 0) {
        //         audioContext.decodeAudioData(copyArrayBuffer.buffer,
        //         (buffer) => {
        //             audioContext.resume();
        //             outputSource = audioContext.createBufferSource();
        //             outputSource.connect(audioContext.destination);
        //             outputSource.buffer = buffer;
        //             outputSource.start(0);
        //             outputSource.addEventListener("ended", () => {
        //                 console.log('moby turn over');
        //                 // is this the right place to unhighlight
        //                 // mobyTurnLineFormat(currMobyLine, false);
        //                 mobyTurnLineFormat(false);
        //                 currentIndex++;
        //                 startDialogue();
        //             });
        //         }, (err) => {
        //             console.log('Error parsing through arrayBuffer', err.message);
        //         });
        //     } else {
        //         // mobyTurnLineFormat(currMobyLine, false);
        //         // mobyTurnLineFormat(false);
        //         console.error("did not find any arguments");
        //     }
        // } catch(e) {
        //     console.log(e);
        // }
        return;
    };
    return /*#__PURE__*/ jsx_runtime_.jsx(jsx_runtime_.Fragment, {});
};
/* harmony default export */ const sstv2 = (SpeechToTextV2);

// EXTERNAL MODULE: ./node_modules/react-bootstrap/cjs/Col.js
var Col = __webpack_require__(89914);
// EXTERNAL MODULE: ./node_modules/react-bootstrap/cjs/Row.js
var Row = __webpack_require__(77344);
var Row_default = /*#__PURE__*/__webpack_require__.n(Row);
// EXTERNAL MODULE: ./node_modules/react-bootstrap/cjs/Container.js
var Container = __webpack_require__(74403);
var Container_default = /*#__PURE__*/__webpack_require__.n(Container);
;// CONCATENATED MODULE: ./app/components-dark-mode/ScriptLine.tsx


const ScriptLine = ({ type, name, text, keyProp })=>{
    // console.log('should be highlighted', shouldBeHighlighted);
    // if (type && type === 'SCENE_ACTION') {
    //     if (shouldBeHighlighted) {
    //         return (
    //             <div className="relative isolate px-6 pt-14 lg:px-8">   
    //                 <div className="text-left selection:bg-yellow-300">{text}</div>
    //             </div>
    //         )
    //     } else {
    //         return (
    //             <div className="relative isolate px-6 pt-14 lg:px-8">
    //                 <div className="text-left">{text}</div>
    //             </div>
    //         )
    //     }
    // } else {
    //     return shouldBeHighlighted ? (
    //         <div className="relative isolate px-6 pt-14 lg:px-8">
    //             <div className="text-center">{name}</div> 
    //             <div className="text-center selection:bg-yellow-300">{text}</div>
    //         </div>
    //     ) :
    //     (
    //         <div className="relative isolate px-6 pt-14 lg:px-8">
    //             <div className="text-center">{name}</div> 
    //             <div className="text-center">{text}</div>
    //         </div>
    //     )
    // }
    return type && type === "SCENE_ACTION" ? /*#__PURE__*/ jsx_runtime_.jsx("div", {
        style: {
            padding: "10px 0"
        },
        children: /*#__PURE__*/ jsx_runtime_.jsx("div", {
            className: "text-left",
            children: /*#__PURE__*/ jsx_runtime_.jsx("span", {
                className: (fonts_ts_import_Lato_arguments_subsets_latin_weight_400_display_swap_variableName_lato_default()).className,
                style: {
                    fontSize: "16pt",
                    color: "white"
                },
                children: text
            })
        })
    }) : /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
        style: {
            margin: "1%",
            padding: "10px 0"
        },
        children: [
            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                className: "text-center",
                children: /*#__PURE__*/ jsx_runtime_.jsx("span", {
                    className: (fonts_ts_import_Lato_arguments_subsets_latin_weight_400_display_swap_variableName_lato_default()).className,
                    style: {
                        fontSize: "16pt",
                        color: "white"
                    },
                    children: name
                })
            }),
            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                className: "text-left",
                style: {
                    marginLeft: "20%",
                    marginRight: "20%"
                },
                children: /*#__PURE__*/ jsx_runtime_.jsx("span", {
                    id: `dialogue${keyProp}`,
                    className: (fonts_ts_import_Lato_arguments_subsets_latin_weight_400_display_swap_variableName_lato_default()).className,
                    style: {
                        color: "white",
                        fontSize: "16pt"
                    },
                    children: text
                })
            })
        ]
    });
};
/* harmony default export */ const components_dark_mode_ScriptLine = (ScriptLine);

// EXTERNAL MODULE: ./node_modules/next/font/google/target.css?{"path":"app/fonts.ts","import":"Inter","arguments":[{"subsets":["latin"],"weight":"700","display":"swap"}],"variableName":"interBold"}
var fonts_ts_import_Inter_arguments_subsets_latin_weight_700_display_swap_variableName_interBold_ = __webpack_require__(77456);
var fonts_ts_import_Inter_arguments_subsets_latin_weight_700_display_swap_variableName_interBold_default = /*#__PURE__*/__webpack_require__.n(fonts_ts_import_Inter_arguments_subsets_latin_weight_700_display_swap_variableName_interBold_);
;// CONCATENATED MODULE: ./app/components-dark-mode/ScriptView.tsx
// input: the array of destructured entities
// output: a formatted script






const ScriptView = ({ script, clickStart })=>{
    const [show, setShow] = (0,react_.useState)(true);
    // script should be destructurd objects with {type: CHARACTER_BLOCK | SCENE_ACTION, text: string }
    let dialogueOnlyIndex = -1;
    let blur = show ? "blur(10px)" : "none";
    return /*#__PURE__*/ jsx_runtime_.jsx(jsx_runtime_.Fragment, {
        children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
            style: {
                filter: `${blur}`,
                background: "transparent",
                textAlign: "center"
            },
            children: [
                /*#__PURE__*/ jsx_runtime_.jsx((Modal_default()), {
                    centered: true,
                    size: "lg",
                    show: show,
                    style: {
                        backgroundColor: "transparent",
                        border: "none"
                    },
                    children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)((Modal_default()).Body, {
                        style: {
                            background: "transparent",
                            border: "none",
                            display: "flex",
                            justifyContent: "center",
                            alignItems: "center",
                            flexDirection: "column"
                        },
                        children: [
                            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("p", {
                                className: (fonts_ts_import_Inter_arguments_subsets_latin_weight_700_display_swap_variableName_interBold_default()).className,
                                style: {
                                    fontSize: "24px",
                                    textAlign: "center",
                                    color: "#fff"
                                },
                                children: [
                                    'Say "start" to begin reading or click the Start button. ',
                                    /*#__PURE__*/ jsx_runtime_.jsx("br", {}),
                                    " Click the Restart Script button at any time to go from the top."
                                ]
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx((Button_default()), {
                                onClick: ()=>setShow(false),
                                style: {
                                    padding: "15px",
                                    width: "94px",
                                    height: "50px",
                                    backgroundColor: "#D65600",
                                    color: "#fff",
                                    lineHeight: "100%",
                                    border: "none",
                                    marginTop: "32px"
                                },
                                children: "Got it"
                            })
                        ]
                    })
                }),
                /*#__PURE__*/ jsx_runtime_.jsx((Button_default()), {
                    onClick: ()=>clickStart(true),
                    className: (fonts_ts_import_Lato_arguments_subsets_latin_weight_400_display_swap_variableName_lato_default()).className,
                    style: {
                        backgroundColor: "#D65600",
                        width: "87px",
                        height: "50px",
                        color: "#fff",
                        border: "none",
                        fontSize: "16px",
                        marginBottom: "48px"
                    },
                    children: "Start"
                }),
                /*#__PURE__*/ jsx_runtime_.jsx("div", {
                    style: {
                        padding: "0 10%",
                        height: "80vh",
                        overflowY: "scroll"
                    },
                    children: script.map((dialogueObj, id)=>{
                        if (dialogueObj.type === "SCENE_ACTION") {
                            return /*#__PURE__*/ jsx_runtime_.jsx(components_dark_mode_ScriptLine, {
                                type: dialogueObj.type,
                                name: "",
                                text: dialogueObj.text
                            }, id);
                        } else {
                            dialogueOnlyIndex++;
                            return /*#__PURE__*/ jsx_runtime_.jsx(components_dark_mode_ScriptLine, {
                                keyProp: dialogueOnlyIndex,
                                type: dialogueObj.type,
                                name: dialogueObj.name,
                                text: dialogueObj.line
                            }, id);
                        }
                    })
                })
            ]
        })
    });
};
/* harmony default export */ const components_dark_mode_ScriptView = (ScriptView);

// EXTERNAL MODULE: ./node_modules/react-bootstrap/cjs/Nav.js
var Nav = __webpack_require__(5275);
var Nav_default = /*#__PURE__*/__webpack_require__.n(Nav);
;// CONCATENATED MODULE: ./app/components-dark-mode/ScriptSideBar.tsx





const ScriptSideBar = ({ scriptTitle })=>{
    const [open, setOpen] = (0,react_.useState)(true);
    const title = scriptTitle.includes("Risk-Management") ? "Risk-Management" : "White-Room";
    let sidebarClass = open ? "sidebar open" : "sidebar";
    let sideBtnClass = open ? "sideBtn open" : "sideBtn";
    return /*#__PURE__*/ jsx_runtime_.jsx("div", {
        style: {
            padding: "0"
        },
        className: sidebarClass,
        children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)((Nav_default()), {
            style: {
                top: "0",
                bottom: "0",
                left: "0",
                minHeight: "100vh",
                padding: "48px 0 0",
                zIndex: "100",
                display: "flex",
                flexDirection: "column",
                alignItems: "center"
            },
            onSelect: (selectedKey)=>alert(`selected ${selectedKey}`),
            children: [
                /*#__PURE__*/ jsx_runtime_.jsx((Button_default()), {
                    variant: "",
                    className: sideBtnClass,
                    onClick: ()=>setOpen(!open),
                    children: open ? /*#__PURE__*/ (0,jsx_runtime_.jsxs)("svg", {
                        width: "32",
                        height: "32",
                        viewBox: "0 0 32 32",
                        fill: "none",
                        xmlns: "http://www.w3.org/2000/svg",
                        children: [
                            /*#__PURE__*/ jsx_runtime_.jsx("rect", {
                                x: "0.5",
                                y: "0.5",
                                width: "31",
                                height: "31",
                                rx: "5.5",
                                fill: "#3E3E43"
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx("path", {
                                d: "M24.332 9.3335L15.9987 16.0002L24.332 22.6668",
                                stroke: "white",
                                strokeWidth: "1.5",
                                strokeLinejoin: "round"
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx("path", {
                                d: "M16 9.3335L7.66667 16.0002L16 22.6668",
                                stroke: "white",
                                strokeWidth: "1.5",
                                strokeLinejoin: "round"
                            })
                        ]
                    }) : /*#__PURE__*/ (0,jsx_runtime_.jsxs)("svg", {
                        width: "32",
                        height: "32",
                        viewBox: "0 0 32 32",
                        fill: "none",
                        xmlns: "http://www.w3.org/2000/svg",
                        children: [
                            /*#__PURE__*/ jsx_runtime_.jsx("rect", {
                                x: "31.5",
                                y: "31.5",
                                width: "31",
                                height: "31",
                                rx: "5.5",
                                transform: "rotate(-180 31.5 31.5)",
                                fill: "#3E3E43"
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx("path", {
                                d: "M7.66797 22.6665L16.0013 15.9998L7.66797 9.33317",
                                stroke: "white",
                                strokeWidth: "1.5",
                                strokeLinejoin: "round"
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx("path", {
                                d: "M16 22.6665L24.3333 15.9998L16 9.33317",
                                stroke: "white",
                                strokeWidth: "1.5",
                                strokeLinejoin: "round"
                            })
                        ]
                    })
                }),
                /*#__PURE__*/ (0,jsx_runtime_.jsxs)((Button_default()), {
                    variant: "none",
                    size: "lg",
                    style: {
                        border: "2px solid #D65600",
                        borderRadius: "5px",
                        width: "171px",
                        height: "50px",
                        fontSize: "18px",
                        color: "#fff",
                        backgroundColor: "#3E3E43"
                    },
                    children: [
                        "+ ",
                        /*#__PURE__*/ jsx_runtime_.jsx("span", {
                            className: (fonts_ts_import_Lato_arguments_subsets_latin_weight_700_display_swap_variableName_latoBold_default()).className,
                            children: "Upload Script"
                        })
                    ]
                }),
                /*#__PURE__*/ (0,jsx_runtime_.jsxs)((Nav_default()).Item, {
                    style: {
                        backgroundColor: "#3E3E43",
                        color: "#fff",
                        display: "flex",
                        flexDirection: "row",
                        justifyContent: "space-evenly",
                        alignItems: "center",
                        padding: "13px 0 12px 5px",
                        borderRadius: "0px",
                        marginTop: "36px",
                        fontSize: "16px",
                        textAlign: "center",
                        width: "100%"
                    },
                    children: [
                        /*#__PURE__*/ (0,jsx_runtime_.jsxs)("svg", {
                            width: "20",
                            height: "20",
                            viewBox: "0 0 20 20",
                            fill: "none",
                            xmlns: "http://www.w3.org/2000/svg",
                            children: [
                                /*#__PURE__*/ jsx_runtime_.jsx("path", {
                                    d: "M5.33203 18.3337H14.6654C15.7699 18.3337 16.6654 17.4382 16.6654 16.3337V7.58686C16.6654 7.00301 16.4102 6.44831 15.9669 6.06835L11.3938 2.14848C11.0313 1.83778 10.5696 1.66699 10.0922 1.66699H5.33203C4.22746 1.66699 3.33203 2.56242 3.33203 3.66699V16.3337C3.33203 17.4382 4.22746 18.3337 5.33203 18.3337Z",
                                    stroke: "white",
                                    strokeLinejoin: "round"
                                }),
                                /*#__PURE__*/ jsx_runtime_.jsx("path", {
                                    d: "M10.832 2.08398V4.66732C10.832 5.77189 11.7275 6.66732 12.832 6.66732H16.2487",
                                    stroke: "white",
                                    strokeLinejoin: "round"
                                }),
                                /*#__PURE__*/ jsx_runtime_.jsx("path", {
                                    d: "M5.83203 10H12.4987",
                                    stroke: "white",
                                    strokeLinejoin: "round"
                                }),
                                /*#__PURE__*/ jsx_runtime_.jsx("path", {
                                    d: "M5.83203 12.5H9.58203",
                                    stroke: "white",
                                    strokeLinejoin: "round"
                                }),
                                /*#__PURE__*/ jsx_runtime_.jsx("path", {
                                    d: "M5.83203 15H11.6654",
                                    stroke: "white",
                                    strokeLinejoin: "round"
                                })
                            ]
                        }),
                        title
                    ]
                })
            ]
        })
    });
};
/* harmony default export */ const components_dark_mode_ScriptSideBar = (ScriptSideBar);

;// CONCATENATED MODULE: ./app/components-dark-mode/ScriptContent.tsx
/* __next_internal_client_entry_do_not_use__ default auto */ 






const ScriptsContent = ({ scriptTitle, script, clickStart })=>{
    const [open, setOpen] = (0,react_.useState)(true);
    // const [scriptColumn, setScriptColumn] = useState();
    //   const handleToggle = () => {
    //     setOpen(!open);
    //   }
    // return (
    //     <>
    //         <Tab.Container defaultActiveKey="first">
    //             <Row style={{width:"100%", height: "100vh"}}>
    //                 <Collapse in={open} dimension="width">
    //                     <Col style={{ borderRight: "1px solid #3E3E43", maxWidth: "25%", padding: "0 3px 0 3px "}}>
    //                     {/* <div className='py-5' style={{borderRight:"solid"}}> */}
    //                     <div className='py-5' style={{ textAlign: "center" }}>
    //                         <Button variant='none' size="lg" style={{ border: "2px solid #D65600", borderRadius: "5px", width: "171px", height: "50px", fontSize: "18px", color:"#fff", backgroundColor: "#3E3E43"}}>+ <span className={latoBold.className}>Upload Script</span></Button>
    //                     </div>
    //                     <Nav variant="pills" className="flex-column">
    //                         <Nav.Item>
    //                         <Nav.Link eventKey="first" style={{ backgroundColor: "#3E3E43", color: "#fff", display: "flex", flexDirection: "row", justifyContent: "center", alignItems: "center", padding: "13px 0 12px 0", borderRadius: "0px"}}>
    //                             <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
    //                                 <path d="M5.33203 18.3337H14.6654C15.7699 18.3337 16.6654 17.4382 16.6654 16.3337V7.58686C16.6654 7.00301 16.4102 6.44831 15.9669 6.06835L11.3938 2.14848C11.0313 1.83778 10.5696 1.66699 10.0922 1.66699H5.33203C4.22746 1.66699 3.33203 2.56242 3.33203 3.66699V16.3337C3.33203 17.4382 4.22746 18.3337 5.33203 18.3337Z" stroke="white" stroke-linejoin="round"/>
    //                                 <path d="M10.832 2.08398V4.66732C10.832 5.77189 11.7275 6.66732 12.832 6.66732H16.2487" stroke="white" stroke-linejoin="round"/>
    //                                 <path d="M5.83203 10H12.4987" stroke="white" stroke-linejoin="round"/>
    //                                 <path d="M5.83203 12.5H9.58203" stroke="white" stroke-linejoin="round"/>
    //                                 <path d="M5.83203 15H11.6654" stroke="white" stroke-linejoin="round"/>
    //                             </svg>
    //                             {scriptTitle}
    //                         </Nav.Link>
    //                         </Nav.Item>
    //                     </Nav>
    //                     </Col>
    //                 </Collapse>
    //                 <Col sm={open ? 9 : 12} >
    //                     <Button variant="none" onClick={() => setOpen(!open)} aria-controls="example-collapse-text" aria-expanded={open}>
    //                     { open ? (
    //                         <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
    //                         <rect x="0.5" y="0.5" width="31" height="31" rx="5.5" fill="#3E3E43"/>
    //                         <path d="M24.332 9.3335L15.9987 16.0002L24.332 22.6668" stroke="white" strokeWidth="1.5" strokeLinejoin="round"/>
    //                         <path d="M16 9.3335L7.66667 16.0002L16 22.6668" stroke="white" strokeWidth="1.5" strokeLinejoin="round"/>
    //                         </svg>
    //                         ) : (
    //                         <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
    //                         <rect x="31.5" y="31.5" width="31" height="31" rx="5.5" transform="rotate(-180 31.5 31.5)" fill="#3E3E43"/>
    //                         <path d="M7.66797 22.6665L16.0013 15.9998L7.66797 9.33317" stroke="white" strokeWidth="1.5" strokeLinejoin="round"/>
    //                         <path d="M16 22.6665L24.3333 15.9998L16 9.33317" stroke="white" strokeWidth="1.5" strokeLinejoin="round"/>
    //                         </svg>
    //                         )
    //                     }
    //                     </Button>
    //                     {/* <Tab.Content >
    //                     <Tab.Pane eventKey="first"> */}
    //                     <div style={{ height: "100vh" }}>
    //                         <ScriptView script={script} />
    //                     </div>
    //                     {/* </Tab.Pane> */}
    //                     {/* <Tab.Pane eventKey="second">Second tab content</Tab.Pane> */}
    //                     {/* </Tab.Content> */}
    //                 </Col>
    //             </Row>
    //         </Tab.Container>
    //     </>
    // );
    return /*#__PURE__*/ jsx_runtime_.jsx("div", {
        style: {
            height: "100vh",
            width: "100vw"
        },
        children: /*#__PURE__*/ jsx_runtime_.jsx((Container_default()), {
            style: {
                maxWidth: "100vw",
                padding: "0"
            },
            children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)((Row_default()), {
                style: {
                    display: "flex",
                    flexDirection: "row",
                    alignItems: "center"
                },
                children: [
                    /*#__PURE__*/ jsx_runtime_.jsx(Col["default"], {
                        sm: 2,
                        style: {
                            borderRight: "0.5px solid #3E3E43",
                            width: "224px",
                            paddingRight: "5px"
                        },
                        children: /*#__PURE__*/ jsx_runtime_.jsx(components_dark_mode_ScriptSideBar, {
                            scriptTitle: scriptTitle
                        })
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx(Col["default"], {
                        sm: 9,
                        style: {
                            height: "100vh",
                            width: "80%"
                        },
                        children: /*#__PURE__*/ jsx_runtime_.jsx(components_dark_mode_ScriptView, {
                            script: script,
                            clickStart: clickStart
                        })
                    })
                ]
            })
        })
    });
};
/* harmony default export */ const ScriptContent = (ScriptsContent);

;// CONCATENATED MODULE: ./app/script/upload/choose-file/page.tsx
/* __next_internal_client_entry_do_not_use__ default auto */ 

// import FileUploader from '../../../components/FileUploader';

// import WelcomeUser from '../../../components/WelcomeUser';

// import UserInputModal from '../../../components/UserInputModal';


// import Dialogue from '../../../components-dark-mode/Dialogue';
// import ScriptsContent from '../../../components/ScriptContent';

function ChooseFile() {
    const [scriptDialogue, setScriptDialogue] = (0,react_.useState)([]);
    const [parseLoading, setParseLoading] = (0,react_.useState)(false);
    const [parseError, setParseError] = (0,react_.useState)(false);
    const [gptLoading, setGPTLoading] = (0,react_.useState)(false);
    const [gptError, setGPTError] = (0,react_.useState)(false);
    const [ttsLoading, setTTSLoading] = (0,react_.useState)(false);
    const [ttsError, setTTSError] = (0,react_.useState)(false);
    const [scriptTitle, setScriptTitle] = (0,react_.useState)("");
    const [chosenCharacter, setChosenCharacter] = (0,react_.useState)(undefined);
    const [showScript, setShowScript] = (0,react_.useState)(false);
    const [startReading, setStartReading] = (0,react_.useState)(false);
    return /*#__PURE__*/ jsx_runtime_.jsx("div", {
        style: {
            margin: "0",
            width: "100%",
            height: "100vh",
            display: "flex",
            alignItems: "center",
            flexDirection: "column",
            backgroundColor: "#1F2123"
        },
        children: scriptDialogue.length > 0 ? // if character has not been chosen yet, we do not surface the scriptview
        !showScript ? /*#__PURE__*/ jsx_runtime_.jsx(jsx_runtime_.Fragment, {
            children: /*#__PURE__*/ jsx_runtime_.jsx(components_dark_mode_UserInputModal, {
                scriptTitle: scriptTitle,
                scriptDialogue: scriptDialogue,
                chooseCharacter: setChosenCharacter,
                showScript: setShowScript
            })
        }) : /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
            style: {
                height: "100vh"
            },
            children: [
                /*#__PURE__*/ jsx_runtime_.jsx(ScriptContent, {
                    scriptTitle: scriptTitle,
                    script: scriptDialogue,
                    clickStart: setStartReading
                }),
                /*#__PURE__*/ jsx_runtime_.jsx(sstv2, {
                    scriptToRead: scriptDialogue,
                    chosenCharacter: chosenCharacter,
                    clickedStart: startReading
                })
            ]
        }) : /*#__PURE__*/ (0,jsx_runtime_.jsxs)(jsx_runtime_.Fragment, {
            children: [
                /*#__PURE__*/ jsx_runtime_.jsx(WelcomeUser/* default */.Z, {}),
                /*#__PURE__*/ jsx_runtime_.jsx(FileUploader, {
                    setTheScript: setScriptDialogue,
                    setScriptTitle: setScriptTitle,
                    isParseLoading: parseLoading,
                    setParseLoad: setParseLoading,
                    isParseError: parseError,
                    setParseError: setParseError,
                    isGPTLoading: gptLoading,
                    setGPTLoad: setGPTLoading,
                    isGPTError: gptError,
                    setGPTError: setGPTError,
                    isTTSLoading: ttsLoading,
                    setTTSLoad: setTTSLoading,
                    isTTSError: ttsError,
                    setTTSError: setTTSError
                })
            ]
        })
    });
}


/***/ }),

/***/ 24581:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $$typeof: () => (/* binding */ $$typeof),
/* harmony export */   __esModule: () => (/* binding */ __esModule),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(21913);

const proxy = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/Users/jinhoobong/Desktop/Moby/moby.team.github.io/app/script/upload/choose-file/page.tsx`)

// Accessing the __esModule property and exporting $$typeof are required here.
// The __esModule getter forces the proxy target to create the default export
// and the $$typeof value is for rendering logic to determine if the module
// is a client boundary.
const { __esModule, $$typeof } = proxy;
const __default__ = proxy.default;


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__default__);

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, [681,463,163,416,257,331,79,848], () => (__webpack_exec__(29063)));
module.exports = __webpack_exports__;

})();